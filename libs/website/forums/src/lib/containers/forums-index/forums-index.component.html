<div class="p-grid">
  <div class="p-col-10 p-offset-1 p-md-10 p-md-offset-1 p-lg-8 p-lg-offset-2">
    <div class="thread p-card p-p-5 p-mt-5 p-mb-5">
      <h1>Forums</h1>
      <hr />

      <progress-spinner *ngIf="!(loaded$ | async)"></progress-spinner>
      
      <p-table [value]="topics$ | async" styleClass="p-datatable-striped ">
        
        <ng-template pTemplate="body" let-topic>
          <tr [routerLink]="['/', 'forums', 'topic', topic.id]">
            <td class="p-m-0 p-p-3">
              <h4>{{ topic.name }}</h4>
              <p *ngIf="topic.description">{{ topic.description }}</p>
            </td>
            <td *ngIf="topic.subForumsCount">
              <p>{{ topic.subForumsCount }}</p>
              <p>{{ topic.repliesCount }}</p>
            </td>
            <td *ngIf="topic.latestPost">
              <p >{{ topic.latestPost.threadId }}</p>
              <p >{{ topic.latestPost.user.name }}</p>
            </td>
          </tr>
        </ng-template>
      </p-table>
    </div>
  </div>
</div>
