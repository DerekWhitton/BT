<div class="p-grid bg-gold" *ngIf="showMegaSearchMenu">
  <div class="p-col-10 p-offset-1 p-md-10 p-md-offset-1 p-lg-8 p-lg-offset-2">
    <div class="p-d-flex p-flex-column p-flex-md-row p-pt-2 p-pb-2">

        <span class="p-input-icon-left p-mt-1 p-mb-1 p-mr-md-2" style="flex-grow: 1">
          <i class="pi pi-search"></i>
          <input
            type="text"
            class="ui-block"
            pInputText
            placeholder="What are you looking for?"
            [(ngModel)]="searchQuery"
            (keydown.enter)="handleSearch()"
          />
        </span>

        <p-dropdown
          [style]="{ width: '100%' }"
          [options]="searchCategories"
          class="p-mt-1 p-mb-1 p-mr-md-2"
          optionLabel="name"
          [(ngModel)]="selectedSearchCategory"
        ></p-dropdown>

        <button
          pButton
          type="button"
          label="Search"
          class="p-button-white p-button-outlined p-mt-1 p-mb-1 p-ml-auto"
          (click)="handleSearch()"
        ></button>

    </div>

  </div>
</div>

<div class="p-grid bg-grey">
  <div class="p-col-10 p-offset-1 p-md-10 p-md-offset-1 p-lg-8 p-lg-offset-2">
    <div class="p-col p-text-right p-m-2">
      <p-menubar [model]="items" class="menu-light" styleClass="dark-menu">
        <ng-template pTemplate="start">
          <img
            id="app-logo"
            class="logo-image p-mr-2 ng-star-inserted p-mt-2"
            src="assets/layout/images/logo-dark.png"
            [routerLink]="['/', 'home']"
            alt="Bush Trade"
          />
        </ng-template>
        <ng-template pTemplate="end">
          <button
            *ngIf="!loggedIn"
            pButton
            label="Sign In"
            (click)="login()"
          ></button>
          <button
            *ngIf="loggedIn"
            type="button"
            pButton
            icon="pi pi-user"
            class="p-ml-3"
            (click)="menu.toggle($event)"
          ></button>
          <p-menu #menu [popup]="true" [model]="accountItems"></p-menu>
        </ng-template>
      </p-menubar>

    </div>
  </div>
</div>


<p-sidebar [(visible)]="showBuySellMenu" [baseZIndex]="10000" [fullScreen]="true" position="top">
  <div class="p-grid">
    
    <div class="p-col-12 p-md-4"  *ngFor="let category of categories">
       <h3 (click)="navigateToCategory(category.id)">{{category.name}}</h3>
       <ul class="category-list">
         <li *ngFor="let child of category.children" ><a (click)="navigateToCategory(category.id)" >{{child.name}}</a></li>
       </ul>
    </div>

</div>
</p-sidebar>

<!-- 

{ "id": "d6ac6c2e-0ee7-40f3-9c22-08d8a26ea33f", 
"parentId": "00000000-0000-0000-0000-000000000000", 
"name": "Camping Equipment", "categoryIconUri": 
"https://stagingbushtradestorage.blob.core.windows.net/category-images/2021/2/15/10def738-816c-4ff4-9b7e-e7c4c4ac15b9.png", 
"categoryBannerUri": "https://stagingbushtradestorage.blob.core.windows.net/category-images/2021/2/15/2bce21c2-6e37-4435-ad19-8626ee9bc7c0.jpg", 
"children": [ { "id": "c8dc4529-6710-4ec2-6189-08d8a4181233", "name": "Tents" }, { "id": "025cc306-4529-4663-cb6c-08d8a5e01319", "name": "Sleeping Bags" }, 
{ "id": "56067ba0-adbd-4eee-cb6d-08d8a5e01319", "name": "Gas Stove" }, 
{ "id": "1fbaad32-25ab-4e9d-cb6e-08d8a5e01319", "name": "Chairs" }, 
{ "id": "38c345c3-031a-4d7e-3aa4-08d8a7361fe8", "name": "test" } ] }

 -->